<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CommentCraft AI - Smart YouTube Assistant</title>
    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.5;
            margin: 0; padding: 0;
            color: #333;
            background-image: url('images/background.jpg');
            background-size: cover; background-position: center; background-attachment: fixed;
            min-height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .container {
            background-color: rgba(255, 255, 255, 0.98); /* Менш прозорий для чіткості */
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            max-width: 750px;
            width: 90%;
            margin: 20px;
            text-align: center;
        }
        .logo { max-width: 100px; margin-bottom: 15px; }
        h1 { color: #2c3e50; margin: 0 0 5px 0; font-size: 1.8em; }
        .subtitle { color: #555; font-size: 1.1em; margin: 0 0 20px 0; font-weight: bold; }
        
        /* --- НОВИЙ БЛОК: Опис продукту (Вимога Paddle) --- */
        .product-description {
            text-align: left;
            background-color: #f1f8ff;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin-bottom: 25px;
            font-size: 0.95em;
            color: #444;
        }

        /* Сітка для колонок */
        .content-grid {
            display: flex;
            justify-content: center;
            align-items: stretch;
            gap: 30px;
            margin-bottom: 25px;
            text-align: left;
        }
        .features-col { flex: 1; }
        .features-col h3 { margin-top: 0; color: #2c3e50; font-size: 1.1em;}
        .features-col ul { padding-left: 20px; margin: 10px 0; }
        .features-col li { margin-bottom: 8px; font-size: 0.95em; }

        .pricing-col {
            flex: 0 0 220px;
            display: flex; flex-direction: column; justify-content: center;
        }
        .pricing-card {
            background: #f8f9fa; border: 1px solid #e9ecef;
            padding: 20px; border-radius: 8px;
            text-align: center;
            height: 100%;
            box-sizing: border-box;
        }
        .pricing-card h3 { margin-top: 0; font-size: 1.1em; }
        .price { font-size: 2em; color: #28a745; font-weight: bold; line-height: 1.2; }
        
        .instruction { font-weight: 500; margin-bottom: 0; font-size: 0.9em; }

        /* Футер */
        .footer {
            margin-top: 20px; padding-top: 15px;
            border-top: 1px solid #eee; font-size: 0.85em; color: #666;
        }
        .footer p { margin: 5px 0; }
        .footer a { color: #666; text-decoration: none; margin: 0 8px; }
        .footer a:hover { text-decoration: underline; color: #007bff; }

        @media (max-width: 650px) {
            .content-grid { flex-direction: column; gap: 20px; text-align: center; }
            .features-col { text-align: left; display: inline-block; }
            .pricing-col { width: 100%; flex: auto; }
        }

        /* --- ВАЖЛИВА ЗМІНА: Відображаємо Landing за замовчуванням --- */
        #landing-view { display: block; } 
        #payment-view { display: none; }
    </style>
</head>
<body>

    <div class="container">
        <img src="images/logo128.png" alt="CommentCraft AI Logo" class="logo">

        <div id="landing-view">
            <h1>CommentCraft AI</h1>
            <p class="subtitle">The ultimate AI assistant for YouTube.</p>

            <div class="product-description">
                <strong>What is CommentCraft AI?</strong><br>
                CommentCraft AI is a Google Chrome Extension designed to help YouTube Creators and Viewers save time. It integrates directly into the YouTube interface to generate engaging comments, smart replies, and optimize video tags using advanced Artificial Intelligence.
            </div>
            
            <div class="content-grid">
                <div class="features-col">
                    <h3>Key Features:</h3>
                    <ul>
                        <li>✅ <strong>Unlimited Generation:</strong> Create comments & replies instantly.</li>
                        <li>✅ <strong>Smart Integration:</strong> Works directly on YouTube video pages and Studio.</li>
                        <li>✅ <strong>Custom Styles:</strong> Make AI sound exactly like you.</li>
                        <li>✅ <strong>Native Interface:</strong> Automatically adapts to your language.</li>
                    </ul>
                </div>

                <div class="pricing-col">
                    <div class="pricing-card" id="pricing">
                        <h3>Premium License</h3>
                        <div class="price">$7.99</div>
                        <p>One-time payment.<br>Lifetime access.</p>
                    </div>
                </div>
            </div>

            <p class="instruction">To upgrade, please click the <strong>"Upgrade" button inside the extension</strong>.</p>
            
            <div class="footer">
                <p>
                    <a href="privacy.html">Privacy Policy</a> | 
                    <a href="terms.html">Terms & Conditions</a> | 
                    <a href="refund.html">Refund Policy</a>
                </p>
                <p>Contact: <a href="mailto:wherethesignalmeetssilence@gmail.com">wherethesignalmeetssilence@gmail.com</a> | &copy; 2025 CommentCraft AI</p>
            </div>
        </div>

        <div id="payment-view">
            <h2 id="payment-title">Processing Payment...</h2>
            <p id="payment-status">Please wait, initializing secure checkout via Paddle.</p>
            <div class="footer">
                <p>Secure payments by Paddle.</p>
            </div>
        </div>

    </div>

    <script>
        function setupPaddle() {
            Paddle.Setup({
                token: "live_8fdde7bc3caf576067a8e00788a" 
            });

            const urlParams = new URLSearchParams(window.location.search);
            const transactionId = urlParams.get('_ptxn');

            if (transactionId) {
                // Якщо є транзакція - приховуємо Landing і показуємо оплату
                document.getElementById('landing-view').style.display = 'none';
                document.getElementById('payment-view').style.display = 'block';
                
                console.log('Transaction ID found:', transactionId);
                
                Paddle.Checkout.open({
                    transactionId: transactionId,
                    successCallback: function(data) {
                        document.getElementById('payment-title').innerText = 'Payment Successful!';
                        document.getElementById('payment-status').innerText = 'Your Premium features are now active. You can close this tab.';
                    },
                    closeCallback: function() {
                        document.getElementById('payment-title').innerText = 'Payment Cancelled';
                        document.getElementById('payment-status').innerText = 'Refresh the page to try again.';
                    }
                });
            } 
            // Якщо транзакції немає - ми нічого не робимо, бо Landing вже visible (display: block)
        }

        if (window.Paddle) {
            setupPaddle();
        } else {
            document.addEventListener('paddle:loaded', setupPaddle, false);
        }
    </script>
</body>
</html>